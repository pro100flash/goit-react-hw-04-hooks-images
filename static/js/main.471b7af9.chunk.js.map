{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","services/ApiService.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","App.module.css"],"names":["module","exports","axios","defaults","baseURL","api","fetchImages","searchQuery","currentPage","pageSize","get","then","data","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","className","S","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","Searchbar","onSubmit","useState","query","setQuery","SearchForm","e","preventDefault","trim","toast","toaster","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","Button","Modal","onClose","children","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","Overlay","target","App","setPictures","setCurrentPage","setSearchQuery","isLoading","setIsLoading","showModal","setShowModal","setLargeImageURL","setTags","toggleModal","options","ApiService","images","length","info","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","shouldRenderLoadMoreButton","color","height","width","Loader","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.471b7af9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2RrT4\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__22Wtt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1kZTd\",\"Modal\":\"Modal_Modal__2PXWv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1xOtN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3fYDv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__114o-\",\"SearchForm\":\"Searchbar_SearchForm__1fjxf\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3Si3C\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2CmSv\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2QLxx\",\"toaster\":\"Searchbar_toaster__3OLic\"};","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api\";\nconst API_KEY = \"21713513-de4fa038d3971b80a05884d99\";\n\nconst fetchImages = ({ searchQuery = \"\", currentPage = 1, pageSize = 15 }) => {\n  return axios\n    .get(\n      `/?key=${API_KEY}&q=${searchQuery}\n    &page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then(({ data }) => data.hits);\n};\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import PropTypes from \"prop-types\";\nimport S from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\n  <li className={S.ImageGalleryItem}>\n    <img\n      src={webformatURL}\n      alt={tags}\n      className={S.ImageGalleryItemImage}\n      onClick={() => onClick({ largeImageURL, tags })}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  tags: PropTypes.string.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import S from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ pictures, onClick }) => {\n  return (\n    <ul className={S.ImageGallery}>\n      {pictures.map(({ id, tags, webformatURL, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          tags={tags}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport S from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleChange = (e) => {\n    setQuery(e.currentTarget.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (query.trim() === \"\") {\n      return toast(\"Enter a value to search.\", {\n        className: S.toaster,\n      });\n    }\n    onSubmit(query);\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={S.Searchbar}>\n      <form className={S.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={S.SearchFormButton}>\n          <span className={S.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={S.SearchFormInput}\n          value={query}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import PropTypes from \"prop-types\";\nimport S from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={S.Button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from \"react\";\nimport S from \"./Modal.module.css\";\n\nexport default function Modal({ onClose, children }) {\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={S.Overlay} onClick={handleBackdropClick}>\n      <div className={S.Modal}>{children}</div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport ApiService from \"./services/ApiService\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Searchbar from \"./components/Searchbar\";\nimport Button from \"./components/Button\";\nimport Modal from \"./components/Modal\";\n\nimport S from \"./App.module.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport default function App() {\n  const [pictures, setPictures] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState(\"\");\n  const [tags, setTags] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return;\n    }\n\n    fetchImages();\n  }, [searchQuery]);\n\n  const onChangeQuery = (query) => {\n    setSearchQuery(query);\n    setCurrentPage(1);\n    setPictures([]);\n  };\n\n  const onModal = ({ largeImageURL, tags }) => {\n    setLargeImageURL(largeImageURL);\n    setTags(tags);\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const fetchImages = () => {\n    setIsLoading(true);\n\n    const options = { searchQuery, currentPage };\n\n    ApiService.fetchImages(options)\n      .then((images) => {\n        if (images.length === 0) {\n          toast.info(\"Try again!\", {\n            className: S.toaster,\n          });\n        }\n        setPictures([...pictures, ...images]);\n        setCurrentPage(currentPage + 1);\n      })\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch(() => {\n        toast.info(\"Try again!\", {\n          className: S.toaster,\n        });\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  const shouldRenderLoadMoreButton = pictures.length > 0 && !isLoading;\n\n  return (\n    <div className={S.App}>\n      <Searchbar onSubmit={onChangeQuery} />\n      <ImageGallery pictures={pictures} onClick={onModal} />\n\n      {shouldRenderLoadMoreButton && <Button onClick={fetchImages} />}\n\n      {isLoading && (\n        <Loader\n          type=\"BallTriangle\"\n          color=\"#00BFFF\"\n          height={200}\n          width={200}\n          className={S.Loader}\n        />\n      )}\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt={tags} />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__14VcE\",\"Loader\":\"App_Loader__NJeRQ\"};"],"sourceRoot":""}